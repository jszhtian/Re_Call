//--------------------------------------------------------------------
//
// サウンド機能
//
//--------------------------------------------------------------------
#=BETA4_SOUND


\BGM(bgm03)


\CM.SXYZ(-030, 0, 30, 0)
\CM.GO

\BG.CMXYZ(0, 0, 30)
\BG(bg_030, , 0, 0)

\SP.WA


サウンド関連の機能の説明をします。

ゲーム中に各種音量の変更が（コンフィグ設定とは別に）\Rできるようになりました。

これからＢＧＭ音量を２秒かけて５０％の大きさに\R変えてみます。

\BGM(, 2000, 128)

変更しました。\Rただしコンフィグでの全体音量やＢＧＭ音量の設定値は\R変わっていません。

この機能により、現在のＢＧＭを流しながら、場面によって音量を変更するという演出ができるようになります。

それでは１秒かけて元に戻してみます。

\BGM(, 1000, 256)

戻しました。

次に、背景音声（ＢＧＶ）機能について説明します。

背景音声（ＢＧＶ）とは、ＢＧＭのように、音声を常に\Rずっとループで流しつづけるという、ボイス命令とは別に\R用意される専用の機能です。

そして、そのキャラの通常音声（ＶＯ）が再生中の時は、\R自動的に背景音声（ＢＧＶ）のほうはＯＦＦになるという\R機能です。

ちょっと具体的な使い道を挙げてみます。

例えばキャラ１が常に寝息をたてているシーンが\Rあったとして、それをループで常に再生したいとします。

その場合、ＳＥ扱いでループ再生すれば解決しそうですが、それだと２つの問題が発生します。

まずひとつめは、ＳＥ扱いでは、キャラ別音量設定値が\R反映されない問題です。

キャラ１が発している寝息なのに、コンフィグ画面で\Rキャラ１の音量設定を変更したとしても反映されません。

そしてもうひとつは、キャラ１の寝息をループ再生しながらゲーム進行していき、途中でキャラ１の寝言がある場合、寝息と寝言の両方が再生されることになってしまう問題です。

これらの問題を、背景音声（ＢＧＶ）機能で解決できます。

ＢＧＶ命令で寝息を再生すると、停止命令を入れるまでは\Rずっと寝息がループ再生され続けます。

そして、キャラ１の通常音声が再生されている時は、\R自動的にＢＧＶがミュートになり、通常音声が再生し終わると、ＢＧＶがまた聞こえるようになります。

では実際に再生してみましょう。

最適なボイスデータが無かったので、ひとまず、\R寝息→「セミ」、寝言→「チャイム」になっています。\R（ちょっと適当ですが）

それではＢＧＶをキャラ１扱いで再生してみます。

\EVO(YUU_0001,1000,,0)

寝息（セミ）を再生しました。

それではこのまま、通常音声として寝言（チャイム）を再生してみます。

チャイムが鳴っている間、寝息（セミ）は聞こえなくなります。そして寝言（チャイム）が再生終了すると、\R寝息（セミ）がまた再生されます。

それでは再生します。

\VO(YUU_0002)

寝言（チャイム）を再生しました。\Rチャイムが鳴り終わるまで待ってみてください。

寝言（チャイム）が鳴り終わった後、自動的に寝息（セミ）の音声がまた再生されたと思います。\R（本来はフェードすべきなのですが、まだ未実装です）

こんな感じです。

ちょっと特殊な用途向けの機能かと思われるかもしれませんが、実際そうでして、本来これは成人向ゲームのほうで主に使われる機能です。

そちらに関してはβ４リリース後に別の形で説明することにします。

\EVO.STOP(1000)


ちなみに、さきほど「次音声」という画像が\Rメッセージウィンドウ右に表示されていたと思いますが、\Rこれも新しい機能です。

次の文章に音声が存在する時、それを画像でお知らせしてくれるというものです。

ユーザーのゲームプレイスタイルによっては、\Rこの機能はなにかと重宝されるかと思います。

サウンド機能の紹介はひとまず以上です。

\FOUT(1500, 5) //幕を下ろす

\BGM(,1000)

\WA(1000)

\FIN(0) //幕を上げる

\GO(サウンド機能)



