//=========================================================================
//
// 簡易スプライト機能紹介
//
//=========================================================================
#INTRODUCTION2


\BG(BG_040)

\BGM(bgm02)


\枝理("P1>21")
枝理「こんにちはっ」


\枝理("P1>03")
枝理「これから『簡易スプライト機能』について説明しますね♪」


\枝理("P1>01")
枝理「この簡易スプライト機能を使うと、立ち絵や背景の他に、画像を自由に表示することができるようになります」


\枝理("P1>61")
枝理「けど、まだ簡易版なので、立ち絵の後ろには表示できないとか、いくつか制限があるんですけどね…」

//※制限の詳細は別途「スプライト命令_xxxxxx.txt」をご覧ください.


\枝理("P1>05")
枝理「もっと高機能なものは、次の大幅バージョンアップの時の実装になるそうです」


\枝理("P1>23")
枝理「じゃあ早速スプライト機能を使ってみましょう♪」


\枝理("P1>21")
枝理「私の左側にスプライトを表示してみますね」


\LSP.CG(1, "tip/ev030")           //スプライト1にcgフォルダ内の「tip/ev030」を読み込む
\LSP.XYL(1, 20, 150, 20, 150, 0)  //スプライト1の座標を(20,150)から(20,150)へ0msかけて変化させる→つまり(20,150)に瞬間表示
\LSP.START(1)                     //スプライト1の演出開始
\LSP.WAIT(1)                      //スプライト1の演出終了まで待つ


\枝理("P1>05")
枝理「きゅーたろー、表示されました？」


\枝理("P1>01")
枝理「今表示されている画像が『スプライト』と呼ばれるもので、簡単に言って『いろいろ制御できるレイヤ』です」


\枝理("P1>23")
枝理「いろいろって言うのは、例えば動かしたり、不透明度を変えたり、拡大縮小したり……」


\枝理("P1>21")
枝理「じゃあ、百聞は一見にしかず、これを左から右へ動かしてみたいと思います」


\枝理("P1>21")
枝理「いきますよ〜」


\LSP.XYL(1, 20, 150, 540, 150, 2000)  //スプライト1の座標を(20,150)から(540,150)へ2000msかけて変化させる
\LSP.START(1)                         //スプライト1の演出開始
\LSP.WAIT(1)                          //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「きゅーたろー、動きました？」


\枝理("P1>05")
枝理「じゃあ次は不透明度を変化させてみます。半透明にしてみますね」


\LSP.A(1, 256, 128, 800)  //スプライト1の不透明度を256から128へ、800msかけて変化させる
\LSP.START(1)             //スプライト1の演出開始
\LSP.WAIT(1)              //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「半透明になりました」


\枝理("P1>05")
枝理「もういっかい、今度は完全に透明にしてみます」


\LSP.A(1, 128, 0, 800)  //スプライト1の不透明度を128から0へ、800msかけて変化させる
\LSP.START(1)           //スプライト1の演出開始
\LSP.WAIT(1)            //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「完全に透明になって、見えなくなりました」

枝理「でも実際にはスプライトはまだ無くなったわけじゃないので、また透明度をいじれば…」


\LSP.A(1, 0, 256, 800)  //スプライト1の不透明度を0から256へ、800msかけて変化させる
\LSP.START(1)           //スプライト1の演出開始
\LSP.WAIT(1)            //スプライト1の演出終了まで待つ


\枝理("P1>05")
枝理「また出てきます」


\枝理("P1>21")
枝理「もちろん、座標と不透明度を一緒に指定することもできます♪」


\LSP.XYL(1, 540, 150, 540, 300, 2000)  //スプライト1の座標を(540,150)から(540,300)へ2000msかけて変化させる
\LSP.A(1, 256, 96, 2000)               //スプライト1の不透明度を256から96へ、2000msかけて変化させる
\LSP.START(1)                          //スプライト1の演出開始
\LSP.WAIT(1)                           //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「こんな感じです」


\枝理("P1>05")
枝理「スプライトを完全に消去してみますね」


\LSP.DEL(1) //スプライト1を消去


\枝理("P1>21")
枝理「これで完全に消えました」


\枝理("P1>05")
枝理「じゃあもう一度、今度は別の画像をスプライトとして読み込んでみます」


\LSP.CG(1, "tip/ev040")           //スプライト1にcgフォルダ内の「tip/ev040」を読み込む
\LSP.A(1, 0, 256, 500)            //スプライト1の不透明度を0から256へ、500msかけて変化させる
\LSP.XYL(1, 20, 150, 20, 150, 0)  //スプライト1の座標を(20,150)から(20,150)へ0msかけて変化させる→つまり(20,150)に瞬間表示
\LSP.START(1)                     //スプライト1の演出開始
\LSP.WAIT(1)                      //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「次は、スプライトを動かしながらゲームを進行させてみましょう♪」

枝理「まずこれから、この画像をゆーーーっくり２０秒かけて左から右に動かします」

\枝理("P1>21")
枝理「その間にひつじを１０匹数えますから、試しにどんどんクリックしていってみてください」


\LSP.XYL(1, 20, 150, 540, 150, 20000)  //スプライト1の座標を(20,150)から(540,150)へ20000msかけて変化させる
\LSP.START(1)                          //スプライト1の演出開始


\枝理("P1>23")
枝理「ひつじが１匹」
枝理「ひつじが２匹」
枝理「ひつじが３匹」
枝理「ひつじが４匹」
枝理「ひつじが５匹」
枝理「ひつじが６匹」
枝理「ひつじが７匹」
枝理「ひつじが８匹」
枝理「ひつじが９匹」

\枝理("P1>21")
枝理「ひつじが１０匹！」


\LSP.WAIT(1)   //★１ //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「数えました♪」


\枝理("P1>05")
枝理「もし、２０秒以内にひつじを数え終わった場合、演出が終わるまでそこで進行が止まっていたと思います」

枝理「スクリプトの★１のところの命令が、演出が終わるまで進行を止める役割を持っています」


\LSP.DEL(1)


\枝理("P1>21")
枝理「あと、スプライトを読み込むときに、ブレンドモードを指定することができます」


\枝理("P1>21")
枝理「ブレンドモードとは、レイヤとレイヤの合成方法なのですが…」


\LSP.CG(1, "tip/ev030", 0)             //スプライト1にcgフォルダ内の「tip/ev030」を読み込む
\LSP.XYL(1, 540, 150, 540, 300, 3000)  //スプライト1のレイヤ中心座標を(540,150)から(540,300)へ3000msかけて変化させる
\LSP.START(1)                          //スプライト1の演出開始


\枝理("P1>21")
枝理「普通はこういう重ね合わせを…」


\LSP.CG(1, "tip/ev030", 1)             //スプライト1にcgフォルダ内の「tip/ev030」を読み込む
\LSP.XYL(1, 540, 150, 540, 300, 3000)  //スプライト1のレイヤ中心座標を(540,150)から(540,300)へ3000msかけて変化させる
\LSP.START(1)                          //スプライト1の演出開始


\枝理("P1>21")
枝理「こういう風に合成したり…」


\LSP.CG(1, "tip/ev030", 2)             //スプライト1にcgフォルダ内の「tip/ev030」を読み込む
\LSP.XYL(1, 540, 150, 540, 300, 3000)  //スプライト1のレイヤ中心座標を(540,150)から(540,300)へ3000msかけて変化させる
\LSP.START(1)                          //スプライト1の演出開始


\枝理("P1>21")
枝理「こういう風に合成したりできます♪」


\LSP.DEL(1)



\枝理("P1>01")
枝理「それじゃあ次は、拡大縮小をしてみます♪」


\LSP.CG(1, "tip/ev030")             //スプライト1にcgフォルダ内の「tip/ev030」を読み込む
\LSP.XYC(1, 400, 300, 400, 300, 0)  //スプライト1のレイヤ中心座標を(400,300)から(400,300)へ0msかけて変化させる→つまり(400,300)固定
\LSP.ZOOM(1, 100, 250, 800)         //スプライト1の拡縮率を100％から250％へ800msかけて変化させる
\LSP.START(1)                       //スプライト1の演出開始
\LSP.WAIT(1)                        //スプライト1の演出終了まで待つ


\枝理("P1>61")
枝理「あれ、私が見えないですね」


\LSP.XYC(1, 400, 300, 100, 300, 1500)  //スプライト1のレイヤ中心座標を(400,300)から(400,300)へ0msかけて変化させる→つまり(400,300)固定
\LSP.ZOOM(1, 250, 100, 800)            //スプライト1の拡縮率を100％から250％へ800msかけて変化させる
\LSP.START(1)                          //スプライト1の演出開始

枝理「ちょっとずらしますね」

\LSP.WAIT(1)                           //スプライト1の演出終了まで待つ


\枝理("P1>05")
枝理「ちっちゃくなりながら消してみます」


\LSP.XYC(1, 100, 300, 100, 300, 0)  //スプライト1のレイヤ中心座標を(400,300)から(400,300)へ0msかけて変化させる→つまり(400,300)固定
\LSP.ZOOM(1, 100, 0, 800)           //スプライト1の拡縮率を100％から250％へ800msかけて変化させる
\LSP.START(1)                       //スプライト1の演出開始

\LSP.WAIT(1)                        //スプライト1の演出終了まで待つ
\LSP.DEL(1)                         //スプライト1を消去する


\枝理("P1>23")
枝理「じゃあ、次はレイヤのアニメーションについて説明します」


\枝理("P1>05")
枝理「まずはアニメーション用画像を読み込みますね」



\LSP.ANCG(1, "tip/ani_", 8)       //スプライト1にcgフォルダ内の「tip/ani_01〜ani_08」を読み込む
\LSP.A(1, 0, 256, 500)            //スプライト1の不透明度を0から256へ、500msかけて変化させる
\LSP.XYL(1, 20, 150, 20, 150, 0)  //スプライト1の座標を(20,150)から(20,150)へ0msかけて変化させる→つまり(20,150)に瞬間表示
\LSP.START(1)                     //スプライト1の演出開始
\LSP.WAIT(1)                      //スプライト1の演出終了まで待つ


\枝理("P1>01")
枝理「読み込みました」

枝理「これをアニメーション開始してみます」


\LSP.ANSP(1, 100)  //スプライト1のアニメーション速度(1コマの切り替わり時間)を100msにセット
\LSP.ANSTART(1)    //スプライト1のアニメを開始する
\LSP.START(1)      //スプライト1の演出開始


\枝理("P1>05")
枝理「アニメーション開始しました」

\枝理("P1>01")
枝理「アニメーションさせながら、移動させたり不透明度を変えることが出来ます」


\LSP.A(1, 256, 96, 3000)              //スプライト1の不透明度を256から96へ、3000msかけて変化させる
\LSP.XYL(1, 20, 150, 540, 300, 3000)  //スプライト1の座標を(20,150)から(540,300)へ3000msかけて変化させる
\LSP.START(1)                         //スプライト1の演出開始


\WA(3000)


\枝理("P1>21")
枝理「こんな感じです」


//スプライト1設定
\LSP.ANSTART(1)                        //スプライト1のアニメを開始する
\LSP.A(1, 128, 256, 5000)              //スプライト1の不透明度を128から256へ、5000msかけて変化させる
\LSP.XYL(1, 540, 300, 20, 150, 15000)  //スプライト1の座標を(540,300)から(20,150)へ15000msかけて変化させる

//スプライト2設定
\LSP.ANCG(2, "tip/ani_", 2)            //スプライト2にcgフォルダ内の「tip/ani_01〜ani_02」を読み込む
\LSP.ANSTART(2)                        //スプライト2のアニメを開始する
\LSP.XYL(2, 20, 300, 540, 300, 20000)  //スプライト2の座標を(20,300)から(540,300)へ20000msかけて変化させる

\LSP.START(1)                          //スプライト1の演出開始
\LSP.START(2)                          //スプライト2の演出開始


\枝理("P1>01")
枝理「複数レイヤを同時に処理もできますよ」


\LSP.FINISH(1)                         //スプライト1の演出を強制的に終了時の状態へ.
\LSP.FINISH(2)                         //スプライト2の演出を強制的に終了時の状態へ.


\枝理("P1>21")
枝理「強制的に演出を終わらせました♪」


\LSP.DEL(1)   //スプライト1を消去
\LSP.DEL(2)   //スプライト2を消去


\枝理("P1>23")
枝理「さらに、アニメしながら拡大縮小だってできます♪」


//スプライト1設定
\LSP.ANCG(1, "tip/ani_", 8)            //スプライト1にcgフォルダ内の「tip/ani_01〜ani_08」を読み込む
\LSP.ANSP(1, 200)                      //スプライト1のアニメーション速度(1コマの切り替わり時間)を200msにセット
\LSP.ANSTART(1)                        //スプライト1のアニメを開始する
\LSP.ZOOM(1, 100, 200, 4000)           //スプライト1の拡縮率を100％から200％へ4000msかけて変化させる
\LSP.XYC(1, 100, 150, 600, 150, 4000)  //スプライト1の座標を(540,300)から(20,150)へ4000msかけて変化させる

//スプライト2設定
\LSP.ANCG(2, "tip/ani_", 2)            //スプライト2にcgフォルダ内の「tip/ani_01〜ani_02」を読み込む
\LSP.ANSP(2, 300)                      //スプライト2のアニメーション速度(1コマの切り替わり時間)を300msにセット
\LSP.ANSTART(2)                        //スプライト2のアニメを開始する
\LSP.ZOOM(2, 100, 20, 4000)            //スプライト2の拡縮率を100％から20％へ4000msかけて変化させる
\LSP.XYC(2, 540, 450, 100, 450, 4000)  //スプライト2の座標を(540,300)から(20,150)へ4000msかけて変化させる

//スプライト3設定
\LSP.CG(3, "tip/ev030")                //スプライト3にcgフォルダ内の「tip/ev030」を読み込む
\LSP.XYL(3, 540, 100, 540, 400, 4000)  //スプライト3の座標を(540,100)から(540,400)へ4000msかけて変化させる


\LSP.START(1)                          //スプライト1の演出開始
\LSP.START(2)                          //スプライト2の演出開始
\LSP.START(3)                          //スプライト3の演出開始


\枝理("P1>21")
枝理「通常スプライト１つと、アニメスプライト２つの計３つを動かしてみます♪」


\枝理("P1>01")
枝理「こんな感じで、移動、大きさ、不透明度、ブレンドモード、アニメーションがある程度自由に制御できるようになりました」


\LSP.DEL(1)   //スプライト1を消去
\LSP.DEL(2)   //スプライト2を消去
\LSP.DEL(3)   //スプライト3を消去



\BG(BLACK,1000,11)
\WA(1000)
\BG(bg_040,1000,11)



\WA(500)


\枝理("P1>05")
枝理「それでは、ひとまずスプライトの説明はこれでおしまいです」


\枝理("P1>21")
枝理「あとはスクリプトを見ながら、いろいろ数値をいじって試してみてくださいね♪」


\枝理("P1>23")
枝理「カットインの演出や、背景スクロールなどもスプライト機能を使うと簡単に実現できますよ♪」


\枝理("P1>21")
枝理「あとはスタッフロールの演出とかも可能になります♪」


\枝理("P1>01")
枝理「そうそう、これから最初の選択肢に戻りますけど、その選択肢に『スタッフロールサンプル』という項目が追加されてますので、見てみてください♪」


\枝理("P1>21")
枝理「それでは、また♪」


\BGM(, 3000)

\BG(BLACK, 1500)

\WA(2000)


@G.I(1)=1 //フラグを立てて、最初の選択肢に「スタッフロールサンプル」を出現させる


\GO(SCENARIO_TITLESTART)







//=========================================================================
//
// スタッフロールサンプル
//
//=========================================================================
#ROLLSAMPLE



\BG(white) //背景を白にフェード (★２)


\WA(300,1)


\LSP.SKIPMODE(0) //CTRLキーによる高速スキップを禁止する



//カクつかないように先に画像を読み込んでおく
//
\LSP.CG(1, "tip/bg_040") //背景その１
\LSP.CG(2, "tip/bg_030") //背景その２
\LSP.CG(5, "tip/staffroll_1") //スタッフロールテキスト
\LSP.CG(6, "bg/black")   //最後のフェードアウト用の黒画像


\BGM(bgm01) // BGM再生



//スタッフロールテキストの演出を開始
//
\LSP.XYL(5, 800-368,620,800-368,-1500+360,45000)
\LSP.START(5) //演出開始



//背景その１(通学路)の演出を開始
//
\LSP.A(1, 0,256, 3000) //不透明度を0→256に変化させてフェードイン
\LSP.XYL(1, 0,0,-800,-600,50000) //(0,0)から(-800,-600)に移動していく(左上に移動)
\LSP.START(1) //背景その１・演出開始



\WA(20000,1) //まずは２０秒待つ(ただしCTRLによるスキップ禁止)



//２０秒たったら、今度は背景その２(青空)の演出を開始する
//
\LSP.A(2, 0, 256, 6000) //不透明度を0→256に変化させてフェードイン
\LSP.XYL(2, 0,-600,-800,0, 40000) //(0,-600)から(-800,0)に移動していく(左下に移動)
\LSP.START(2) //背景その２・演出開始



\WA(30000,1) //３０秒待つ(ただしCTRLによるスキップ禁止)





\BGM(,5000) //BGMフェードアウト開始


//黒画像を使って画面をフェードアウトさせる
//
\LSP.A(6, 0, 256, 5000)
\LSP.START(6)
\LSP.WAIT(6)



//背景も黒に合わせておく
//(スタッフロール開始時のBG命令(★２のところ)で、背景を白にしてあることに注意)
//
//※背景を黒にする命令を入れておかないと、その次のスプライト消去命令で、
//  フェードアウト用スプライト6も消えてしまうため、一瞬で白に戻ってしまう。
//
\BG(BLACK,0) //0msで黒にフェード


//最後に使ったスプライトを消去
//
\LSP.DEL(1)
\LSP.DEL(2)
\LSP.DEL(5)
\LSP.DEL(6)


\LSP.SKIPMODE(1) //演出のスキップによる高速モードを有効に戻しておく


\GO(SCENARIO_TITLESTART)






//=========================================================================
//
// タイトルへ戻る
//
//=========================================================================
#GOTOTITLE

\GO.TITLE


