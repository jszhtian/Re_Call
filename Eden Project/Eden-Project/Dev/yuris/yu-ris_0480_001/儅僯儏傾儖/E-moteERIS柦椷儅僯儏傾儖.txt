//==================================================================
//
// E-mote 用 ERIS 命令マニュアル
//
// 14/11/07
//
//==================================================================

//--------------------------------------------------------------------------
//■ファイル読込命令  \SP.ST
//
// ※この命令自体は既存の立ち絵読み込み命令で、この命令を使って
//   E-moteファイル(拡張子psb)も同じように読み込むことが出来ます。
//   ファイル名は拡張子抜きで指定してください。
//--------------------------------------------------------------------------
[記述]
  \SP.ST( ファイル名, クロスフェード時間 )

[パラメータ]
  (1)ファイル名        ：読み込むファイル名を指定します。(デフォルトで cg\stand\ 内)
  (2)クロスフェード時間：フェードで切り替える時間をms秒単位で指定します。

[パラメータ省略時]
  (1)ファイル名        ：(※新規読み込み時は省略不可)
  (2)クロスフェード時間：0


[説明]
  立ち絵を新規に読み込んだり、ポーズや表情を切り替える際に使用します。
  E-moteファイルの読み込みにも使用できます。


[記述例]
  \SP.ST(emote_test, 500)
  \SP.GO(YUU)
    →「emote_test.psb」ファイルをロードし、500msかけて表示します。
      正確には「空(カラ)の画像からクロスフェードしている」感じです。
      新規立ち絵読み込み時かつクロスフェード時間指定時、
      不透明度は自動で256の状態でロードされます。

  \SP.ST(emote_test2, 500)
  \SP.GO(YUU)
    →「emote_test2.psb」ファイルをロードし、500msかけて現在の画像と
      クロスフェードします。

  \SP.ST(, 500)
  \SP.GO(YUU)
    →500msかけて現在の立ち絵をフェードアウトします。
      正確には「空(カラ)の画像とクロスフェードしている」感じです。


 
//--------------------------------------------------------------------------
//■[E-mote] 変数値設定命令  \SP.EM.VAR
//--------------------------------------------------------------------------
[記述]
  \SP.EM.VAR( 変数名, 値, 時間 )

[パラメータ]
  (1)変数名：値を変更したい変数を指定します。
  (2)値    ：変更する値を指定します。
  (3)時間  ：現在の値から変更値まで何msかけて遷移させるかを指定します。

[パラメータ省略時]
  (1)変数名：(省略不可)
  (2)値    ：(省略不可)
  (3)時間  ：0


[説明]
  E-moteキャラクターのポーズや表情等に対応した変数の値を変更します。
  それにより、ポーズや表情を個別に動かすことが出来ます。
  各種変数名は、E-moteエディタにて確認することができます。


[記述例]
  \SP.EM.VAR(head_slant, 30, 500)
  \SP.GO(CH1)
    →変数 head_slant の値を、現在値から 30 へ 500ms かけて変化させる。



//--------------------------------------------------------------------------
//■[E-mote] タイムライン再生  \SP.EM.PLAY
//--------------------------------------------------------------------------
[記述]
  \SP.EM.PLAY( タイムライン名 )

[パラメータ]
  (1)タイムライン名：再生させるタイムライン名を指定します。

[パラメータ省略時]
  (1)タイムライン名：(省略不可)


[説明]
  指定した名前のタイムラインを再生します。
  すでに再生中のタイムラインが存在していた場合、
  それは自動的に停止され、指定したタイムラインが再生開始されます。
  各種タイムライン名は、E-moteエディタにて確認することができます。


[記述例]
  \SP.EM.PLAY(sample_01)
  \SP.GO(CH1)
    →タイムライン sample_01 を再生開始する。



//--------------------------------------------------------------------------
//■[E-mote] 差分タイムライン再生  \SP.EM.DPLAY
//--------------------------------------------------------------------------
[記述]
  \SP.EM.DPLAY( 差分タイムライン名, フェード時間, 合成比率 )

[パラメータ]
  (1)差分タイムライン名：再生させる差分タイムライン名を指定します。
  (2)フェード時間      ：フェードインさせる時間を指定します。
  (3)合成比率          ：差分タイムラインの合成比率

[パラメータ省略時]
  (1)差分タイムライン名：(省略不可)
  (2)フェード時間      ：0
  (3)合成比率          ：1


[説明]
  指定した名前の差分タイムラインを再生します。
  通常のタイムライン再生と同時に再生させた場合、
  動きを合成させることができます。
  (主な例として、通常タイムラインは通常の動作をさせて、差分タイムラインの
  ほうで呼吸で体が揺れる動きをさせる)
  合成比率は、値が大きいほど動きが激しくなります。(通常は 1 )
  すでに再生中の差分タイムラインが存在していた場合、
  それは自動的に停止され、指定した差分タイムラインが再生開始されます。
  各種タイムライン名は、E-moteエディタにて確認することができます。


[記述例]
  \SP.EM.DPLAY(差分用_waiting_loop2, 1000, 2 )
  \SP.GO(CH1)
    →差分用タイムライン 差分用_waiting_loop2 を、
      ブレンド比率 2 で、1000msかけてフェードインしながら再生開始する。



//--------------------------------------------------------------------------
//■[E-mote] タイムライン停止  \SP.EM.STOP
//--------------------------------------------------------------------------
[記述]
  \SP.EM.STOP( タイムライン名 )

[パラメータ]
  (1)タイムライン名：停止させるタイムライン名を指定します。

[パラメータ省略時]
  (1)タイムライン名：(省略不可)


[説明]
  指定した名前のタイムラインを停止します。
  キャラクターは停止した瞬間のポーズ・表情を維持し続けます。


[記述例]
  \SP.EM.STOP(sample_01)
  \SP.GO(CH1)
    →タイムライン sample_01 を停止する。



//--------------------------------------------------------------------------
//■[E-mote] 差分タイムライン停止  \SP.EM.DSTOP
//--------------------------------------------------------------------------
[記述]
  \SP.EM.DSTOP( 差分タイムライン名, フェード時間 )

[パラメータ]
  (1)差分タイムライン名：停止させる差分タイムライン名を指定します。
  (2)フェード時間      ：フェードアウトさせる時間を指定します。

[パラメータ省略時]
  (1)差分タイムライン名：(省略不可)
  (2)フェード時間      ：0


[説明]
  指定した名前の差分タイムラインを停止します。


[記述例]
  \SP.EM.DSTOP(差分用_waiting_loop2, 1000)
  \SP.GO(CH1)
    →差分タイムライン 差分用_waiting_loop2 を 1000ms かけて停止する。



//--------------------------------------------------------------------------
//■[E-mote] ボイス連動設定命令  \SP.EM.VO
//--------------------------------------------------------------------------
[記述]
  \SP.EM.VO( 変数名, キャラクター番号 )

[パラメータ]
  (1)変数名          ：値を変更したい変数を指定します。
  (2)キャラクター番号：読み込んでいるE-moteキャラクターに対して
                       キャラクター番号を設定します。

[パラメータ省略時]
  (1)変数名          ：(省略不可)
  (2)キャラクター番号：(省略不可)


[説明]
  読み込んでいるE-moteキャラクターを、ボイスと連動させます。
  変数名は、基本的に口の開閉に対応する変数名を指定してください。
  また、キャラクター番号は UserDefine\キャラ番号・音声定義.txt
  にて定義したキャラクター番号を指定してください。


[記述例]

(キャラ番号・音声定義.txt にて、ファイル名の先頭が「ch1」の音声ファイルを
キャラ番号１として登録している状態で)

  \SP.EM.VO(face_talk, 1)
  \SP.GO(CH1)
  \VO(ch1_0001)
  キャラ１「ボイステスト」

	→すでに読み込まれているE-moteキャラクターをキャラ番号１番として登録し、
	  face_talk と連動させるようにセット。
	  その後 \VO(ch1_0001) で実際にキャラ番号１番のボイスが再生され、
	  ボイスに合わせて連動で口パク動作をおこなう。


