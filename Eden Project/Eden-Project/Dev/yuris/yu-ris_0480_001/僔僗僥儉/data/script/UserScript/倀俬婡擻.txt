//--------------------------------------------------------------------
//
// ボタンアニメーション機能
//
//--------------------------------------------------------------------
#=ボタンアニメーション機能


\BGM(bgm03)


ボタンアニメーション機能を紹介します。

画面左下のセーブボタンにマウスを乗せてみてください。

乗せている間、ボタン画像がアニメーションされていると思います。

このように、ボタンがアニメーション対応になりました。

ＯＦＦ／ＯＶＥＲ／ＯＮ／ＯＮＯＶＥＲそれぞれの状態にアニメーションを設定できますので、工夫次第で面白いボタン演出ができるかと思います。


\FOUT(1500, 5) //幕を下ろす

\BGM(,1000)

\WA(1000)

\FIN(0) //幕を上げる

\GO(ＵＩ機能)




//--------------------------------------------------------------------
//
// 画像選択肢機能
//
//--------------------------------------------------------------------
#=画像選択肢機能


画像選択肢機能について説明します。

通常の選択肢で選択肢枠画像を選択する代わりに、任意の画像を表示、それを選択できる機能を実装しました。

キャラクター選択やルート選択、マップ選択などが簡単に作成できるようになります。

それでは表示してみます。

\CSEL(@L(50),1)

\GO.IF(@L(50)==01, UI_01)
\GO.IF(@L(50)==02, UI_02)
\GO.IF(@L(50)==03, UI_03)
\GO.IF(@L(50)==04, UI_04)
\GO.IF(@L(50)==05, UI_05)
\GO.IF(@L(50)==06, UI_06)
\GO.IF(@L(50)==07, UI_07)
\GO.IF(@L(50)==08, UI_08)
\GO.IF(@L(50)==09, UI_09)
\GO.IF(@L(50)==10, UI_10)
\GO.IF(@L(50)==11, UI_11)
\GO.IF(@L(50)==12, UI_12)

#=UI_01
選択肢１を選択しました。
\GO(UI_99)

#=UI_02
選択肢２を選択しました。
\GO(UI_99)

#=UI_03
選択肢３を選択しました。
\GO(UI_99)

#=UI_04
選択肢４を選択しました。
\GO(UI_99)

#=UI_05
選択肢５を選択しました。
\GO(UI_99)

#=UI_06
選択肢６を選択しました。
\GO(UI_99)

#=UI_07
選択肢７を選択しました。
\GO(UI_99)

#=UI_08
選択肢８を選択しました。
\GO(UI_99)

#=UI_09
選択肢９を選択しました。
\GO(UI_99)

#=UI_10
選択肢１０を選択しました。
\GO(UI_99)

#=UI_11
選択肢１１を選択しました。
\GO(UI_99)

#=UI_12
選択肢１２を選択しました。
\GO(UI_99)


#=UI_99

\CM.SXYZ(-030, 0, 30, 0)
\CM.GO

\BG.CMXYZ(0, 0, 30)
\BG(bg_030, , 0, 0)

\SP.WA

それでは次に、もう一度画像選択肢機能を使用して、ボタンの新しい機能について説明をします。

新しくボタン反応範囲を設定するためのマスク画像の読込に対応しました。

これは、ボタンのサイズや形、色に影響されることなく、好きな場所を反応範囲に設定できるというものです。

これからキャラとボタンで合わせて一枚の画像になっているボタンを表示しますが、反応範囲はボタン部分だけになっているのをチェックしてみてください。

\CSEL(@L(50),2)

選択しました。


\FOUT(1500, 5) //幕を下ろす

\BGM(,1000)

\WA(1000)

\FIN(0) //幕を上げる

\GO(ＵＩ機能)




//--------------------------------------------------------------------
//
// マップ選択サンプル
//
//--------------------------------------------------------------------
#=マップ選択サンプル


\BGM(bgm03)


\CM.SXYZ(0, 0, 0, 0)
\CM.GO
\BG.CMXYZ(0, 0, 0)
\BG(bg_040, , 0, 0)

\SP.WA


マップ選択サンプルです。

ＵＩの画像選択機能を利用します。


\FOUT(200)

//何番のボタンがクリックされたかが、@L(1) に格納される。
//
\CSEL(@L(1), 123)

\WA(1000)



\GO.IF(@L(1)==01, CSEL_01)
\GO.IF(@L(1)==02, CSEL_02)
\GO.IF(@L(1)==03, CSEL_03)
\GO.IF(@L(1)==04, CSEL_04)


#=CSEL_01
Ａを選択しました。
\GO(CSEL_99)

#=CSEL_02
Ｂを選択しました。
\GO(CSEL_99)

#=CSEL_03
Ｃを選択しました。
\GO(CSEL_99)

#=CSEL_04
Ｄを選択しました。
\GO(CSEL_99)

#=CSEL_99



\FOUT(1000, 5) //幕を下ろす

\BGM(,1000)

\WA(1000)

\FIN(0) //幕を上げる

\GO(ＵＩ機能)




//--------------------------------------------------------------------
//
// ゲーム中画面デザイン変更機能
//
//--------------------------------------------------------------------
#=ゲーム中画面デザイン変更機能



\CM.SXYZ(0, 0, 0, 0)
\CM.GO
\BG.CMXYZ(0, 0, 0)
\BG(bg_040, , 0, 0)

\SP.WA


ゲーム中のＵＩ変更機能を紹介します。

これから画面デザインを変更します。

\WA(1)

@L(777)=1
\UI.RELOAD //メイン設計ファイルが再読込される


変更しました。

このようにゲーム中の任意のタイミングで画面デザインを変更できるようになりました。

さらに別のデザインに変えてみます。

\WA(1)

@L(777)=2
\UI.RELOAD //メイン設計ファイルが再読込される

変更しました。\Rこのように全画面ノベルモードにもできるようになりました。

\WA(1)

@L(777)=0
\UI.RELOAD //メイン設計ファイルが再読込される

画面デザインを元に戻しました。



\FOUT(1500, 5) //幕を下ろす

\BGM(,1000)

\WA(1000)

\FIN(0) //幕を上げる

\GO(ＵＩ機能)



