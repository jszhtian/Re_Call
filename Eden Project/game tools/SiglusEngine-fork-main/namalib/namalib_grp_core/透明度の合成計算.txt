

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
■画像 Front と 画像 Back を合成して 画像 Dest を生成



D = { (F * alpha) + (B * (255 - alpha)) } / 255



    (F * alpha) + (B * (255 - alpha))
D = ---------------------------------
                  255


    (F * alpha) + (B * 255) - (B * alpha)
D = -------------------------------------
                    255


    (F * alpha)   (B * 255)   (B * alpha)
D = ----------- + --------- - -----------
        255          255          255


    (F * alpha)       (B * alpha)
D = ----------- + B - -----------
        255              255


        (F * alpha)   (B * alpha)
D = B + ----------- - -----------
            255          255


        (F * alpha) - (B * alpha)
D = B + -------------------------
                 255


        alpha * (F - B)
D = B + ---------------
             255


■値の範囲
	alpha = 0 〜 255
	(F - B) = -255 〜 255


■テーブル
	for (i = 0; i < 256; i++)	{
		for (j = -255; j <= 255; j++)	{
			*wp++ = (i * j) / 255;
		}
	}

■プログラム
	mov		edx, [alpha_table_adr]
	mov		al, [src]
	mov		bl, [dst]
	sub		ebx, eax
	shl		ebx, 2
	add		ebx, edx
	add		eax, [ebx]
	mov		[dst], al


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
■画像 Front と 画像 Back を合成して 画像 Dest を生成


■アルファ成分の合成

               a1 * a2
a3 = a1 + a2 - -------
                 255


テーブル化できる

a3 = 0 〜 255

■カラー成分の合成

                 (255 - a1) * a2 * B
    (a1 * F) + ( ------------------- )
                         255
D = ------------------------------------
                    a3

↓

w1 = (255 - a1) * a2 = 0 〜 65535


               (w1 * B)
    (a1 * F) + --------
                 255    
D = ---------------------
            a3



    (255 * a1 * F) + (w1 * B)
    -------------------------
              255
D = -------------------------
              a3


w2 = (255 * a1 * F)


    w2 + (w1 * B)
    -------------
         255
D = -------------
         a3


    (w2 + (w1 * B)) >> 8
D = --------------------
            a3

