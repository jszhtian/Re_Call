$DrawCG

42("Start","00CGFlag.dat")
42("Start","02CosSel.dat")

59("_GRPName","%s%d%d",_GRPName,_View[1],_Skin,0,0)
59("_ThumName","%st",_GRPName,0,0,0,0)
_ThumFlag=1,
_ThumFlag[1]=0,
52("_BGName",_GRPName)

42("DrawGRP",0)

120,0(_Mode,@NoDraw,=,){
_Mode[1]=1,
}0;121,1{
_Mode[1]=0,
20(@BGPLANE,0,0,800,600,0,0,800,600,0,0,0,255,0)42("flip",0)
}1;

42("EndDraw",0)

43()

$DrawCGEX

42("Start","00CGFlag.dat")
42("Start","02CosSel.dat")

59("_GRPName","%s%d%d",_GRPName,_View[1],_Skin,0,0)
59("_ThumName","%st",_GRPName,0,0,0,0)
_ThumFlag=1,
_ThumFlag[1]=1,
52("_BGName",_GRPName)
0(_GRPName,30)
49(_ThumFlag,_ThumName)
120,2(_Mode,@NoDraw,!,){
42("Close","00MesWinSet.dat")
}2;

20(30,0,0,800,600,0,600,800,600,0,0,0,255,0)
120,3(_Mode,@NoDraw,=,){
_Mode[1]=1,
}3;121,4{
_Mode[1]=0,
42("flip",0)
}4;

42("EndDraw",0)


43()

$DrawBG

_optioncgflg=0,
_ThumFlag=0,
_ThumFlag[1]=0,
_View[1]=0,

52("_BGName",_GRPName)

42("DrawGRP",0)

120,5(_Mode,@NoDraw,=,){
_Mode[1]=1,
}5;121,6{
_Mode[1]=0,
20(@BGPLANE,0,0,800,600,0,0,800,600,0,0,0,255,0)42("flip",0)
}6;

42("EndDraw",0)

43()

$DrawChar

120,7(_Target,0,=,){_Target=@CharC,
}7;
_Target[1]=_Target,1,+,
_Target[2]=_Target,2,+,
_Target[3]=_Target,3,+,
_Target[4]=_Target,4,+,

50("_ChangeFlag",0)
58(_ChangeFlag,_GRPName,"")
120,8(_ChangeFlag,0,=,){42("Start","02CosSel.dat")
0(0,_Target)
54("_CharName",_GRPName,0,0,__i)
120,9(_UpFlg,0,=,){
59("_CharName","ch_%s%d%d",_CharName,_Skin,_CosSel,0,0)
59("_FaceName","ch_%s%d%d%d",_GRPName,_Skin,_Glass,_Cheek,0)
}9;121,10{
59("_CharName","cu_%s%d%d",_CharName,_Skin,_CosSel,0,0)
59("_FaceName","cu_%s%d%d%d",_GRPName,_Skin,_Glass,_Cheek,0)
}10;
42("Start","00CharCheck.dat")
0(_CharName,_Target[1])0(_FaceName,_Target[2])
120,11(_Target,@CharL,=,){120,12(_CharX,-200,=,){
120,13(_UpFlg,0,=,){
_CharX=-230,
}13;121,14{
_CharX=-250,
}14;
}12;
52("_CharNameL",_CharName)
52("_FaceNameL",_FaceName)
}11;122,15(_Target,@CharR,=,){120,16(_CharX,200,=,){
120,17(_UpFlg,0,=,){
_CharX=230,
}17;121,18{
_CharX=250,
}18;
}16;
52("_CharNameR",_CharName)
52("_FaceNameR",_FaceName)
}15;122,19(_Target,@CharB,=,){
52("_CharNameB",_CharName)
52("_FaceNameB",_FaceName)
}19;122,20(_Target,@CharC,=,){
52("_CharNameC",_CharName)
52("_FaceNameC",_FaceName)
}20;
_CharX[_Target]=_CharX,
_CharY[_Target]=_CharY,
_Cheek[_Target]=_Cheek,
_AL[_Target]=_AL,
_AN[_Target]=_AN,
19(_Target,1,_Target,_CharX,_CharY,800,600,0,0,800,600,_AL,_AN,400,300,0)
17(_Target,0,_Target[1],0,0,800,600,0,0,800,600,255,0,0,0,0)17(_Target,1,_Target[2],318,59,226,215,0,0,226,215,255,0,0,0,0)}8;122,21(_ChangeFlag,1,=,){120,22(_Target,-1,!,){120,23(_Target,@CharB,=,){
42("DelCharB",0)
}23;122,24(_Target,@CharL,=,){
42("DelCharL",0)
}24;122,25(_Target,@CharR,=,){
42("DelCharR",0)
}25;122,26(_Target,@CharC,=,){
42("DelCharC",0)
}26;
}22;121,27{42("DelChar",0)
}27;
}21;

51("_ChangeFlag")

120,28(_Mode,@NoDraw,!,_Mode[1],0,=,&,){
_FadeTime=_FadeTime,4,/,
}28;
_CharX=0,
_CharY=0,
_Glass=1,
_Skin=1,
_Cheek=1,

120,29(_Mode,@NoDraw,=,){
_Mode[1]=1,
}29;121,30{
_Mode[1]=0,
42("flip",0)
}30;

_Mode=1,
_AL=255,
_AN=0,
_Reverse=0,
_FadeTime=@DefFadeTime,
_Target=0,
_UpFlg=0,

43()

$DelChar

42("DelCharB",0)
42("DelCharL",0)
42("DelCharR",0)
42("DelCharC",0)

43()

$DelCharB

18(@CharB)
18(@CharB[1])
0(0,@CharB)0(0,@CharB[1])0(0,@CharB[2])52("_CharNameB","")52("_FaceNameB","")_CharX[@CharB]=0,
_CharY[@CharB]=0,
_Cheek[@CharB]=0,
_AL[@CharB]=255,
_AN[@CharB]=0,

43()

$DelCharL

18(@CharL)
18(@CharL[1])
0(0,@CharL)
0(0,@CharL[1])
0(0,@CharL[2])
52("_CharNameL","")
52("_FaceNameL","")_CharX[@CharL]=-200,
_CharY[@CharL]=0,
_Cheek[@CharL]=0,
_AL[@CharL]=255,
_AN[@CharL]=0,

43()

$DelCharR

18(@CharR)
18(@CharR[1])
0(0,@CharR)
0(0,@CharR[1])
0(0,@CharR[2])
52("_CharNameR","")
52("_FaceNameR","")_CharX[@CharR]=200,
_CharY[@CharR]=0,
_Cheek[@CharR]=0,
_AL[@CharR]=255,
_AN[@CharR]=0,

43()

$DelCharC

18(@CharC)
18(@CharC[1])
0(0,@CharC)
0(0,@CharC[1])
0(0,@CharC[2])
52("_CharNameC","")
52("_FaceNameC","")_CharX[@CharC]=0,
_CharY[@CharC]=0,
_Cheek[@CharC]=0,
_AL[@CharC]=255,
_AN[@CharC]=0,

43()

$DrawGRP

49(_ThumFlag,_ThumName)
120,31(:SceneFlg,0,=,_DAY,0,>,&,){50("_BGName2",1)
50("_Exist",0)54("_BGName2",_GRPName,0,1,_Exist)58(_Exist,_BGName2,"BG")120,32(_Exist,1,=,){42("DateDisplay","00DateDisplay.dat")
}32;121,33{
42("DateDestroy","00DateDestroy.dat")
}33;
51("_Exist")
51("_BGName2")
}31;121,34{
53("_DatePlane",__k)
120,35(__k,1,=,){
42("DateDestroy","00DateDestroy.dat")
}35;
}34;


120,36(_Mode,@NoDraw,!,){
42("Close","00MesWinSet.dat")
}36;
0(_GRPName,@BGPlane)120,37(_Target,0,=,){
42("DelChar",0)
}37;

43()

$flip

120,38(_MovieLayer,0,!,){
15(_MovieLayer,0,0)}38;

120,39(_Mode,2,=,){
59("_MaskName","mask%02d",_MaskNum,0,0,0,0)
4(_Mode,_MaskName,_FadeTime,_Reverse,1)
_MaskNum=1,
}39;122,40(_Mode,14,=,){
56(_MaskNum,11)_MaskNum=_MaskNum,1,+,
59("_MaskName","mask%02d",_MaskNum,0,0,0,0)
4(2,_MaskName,_FadeTime,_Reverse,1)
_MaskNum=1,
}40;121,41{
4(_Mode,0,_FadeTime,_Reverse,1)
}41;


120,42(_MovieLayer,0,!,){
18(_MovieLayer)0(0,_MovP)60(_MovieChannel)_MovieLayer=0,
_MovieOption=0,
_MoviePlayFlg=0,
}42;

43()

$EndDraw

120,43(_Mode,@NoDraw,!,_AL,0,!,&,){
120,44(:SceneFlg,0,=,_DAY,0,>,&,){50("_BGName2",1)
50("_Exist",0)54("_BGName2",_BGName,0,1,_Exist)58(_Exist,_BGName2,"bg")120,45(_Exist,1,=,){42("DateDisplay","00DateDisplay.dat")
}45;
51("_Exist")
51("_BGName2")
}44;

42("Start","00MesWinSet.dat")
6(@CC,_Target)120,46(_Target,0,=,){
120,47(_View,1,=,){
52("_CCName","MesParts_no2")}47;121,48{
52("_CCName","MesParts_no")}48;
0("_CCName",@CC)
0(0,21)
15(28,0,1)
19(28,1,28,0,376,235,224,0,0,235,224,255,0,0,0,0)
17(28,0,@CC,0,0,235,224,0,0,235,224,255,0,0,0,0)16(28,1)
115(28,1)
}46;

24(1,1,255)
12(0,1)
}43;

_Mode=1,
_AL=255,
_AN=0,
_Reverse=0,
_FadeTime=@DefFadeTime,
_Target=0,
_Skin=1,

43()

$Filter
_Target=-1,
120,49(_Target[1],0,=,){
_Target[1]=1,
}49;
13(-2,0,TRUE,_Mode,0,0,@SCREEN_W,@SCREEN_H,_Target[1])13(@CharB,0,TRUE,_Mode,0,0,@SCREEN_W,@SCREEN_H,_Target[1])13(@CharL,0,TRUE,_Mode,0,0,@SCREEN_W,@SCREEN_H,_Target[1])13(@CharR,0,TRUE,_Mode,0,0,@SCREEN_W,@SCREEN_H,_Target[1])13(@CharC,0,TRUE,_Mode,0,0,@SCREEN_W,@SCREEN_H,_Target[1])12(0,1)
_Mode=1,
_Target=0,
_Target[1]=0,
43()
$NoFilter
_Target=-1,
13(-2,0,FALSE,0,0,0,@SCREEN_W,@SCREEN_H,1)13(@CharB,0,FALSE,0,0,0,@SCREEN_W,@SCREEN_H,1)13(@CharL,0,FALSE,0,0,0,@SCREEN_W,@SCREEN_H,1)13(@CharR,0,FALSE,0,0,0,@SCREEN_W,@SCREEN_H,1)13(@CharC,0,FALSE,0,0,0,@SCREEN_W,@SCREEN_H,1)
6(@CharB,_Target)
120,50(_Target,1,=,){
0(_CharNameB,@CharB)
}50;
6(@CharL,_Target)
120,51(_Target,1,=,){
0(_CharNameL,@CharL)
}51;
6(@CharR,_Target)
120,52(_Target,1,=,){
0(_CharNameR,@CharR)
}52;
6(@CharC,_Target)
120,53(_Target,1,=,){
0(_CharNameC,@CharC)
}53;

12(0,1)
_Mode=1,
_Target=0,
_CharW=0,
_CharH=0,

43()
$Flash

0(_GRPName,_FilterNum)
19(_FilterNum,2,_FilterNum,0,0,@screen_w,@screen_h,0,0,@screen_w,@screen_h,255,0,0,0,0)
24(0,0,0)
4(0,0,0,0,1)
18(_MovieLayer[1])60(_MovieChannel[1])_MovieLayer[1]=0,

46(1)

24(1,1,255)
0(0,_FilterNum)
18(_FilterNum)
4(_Mode,0,_FadeTime,_Reverse,1)

_Mode=1,
_Reverse=0,
_FadeTime=@DefFadeTime,
_FilterNum=@DefFilterNum,

43()

$ColorFilter

0(_GRPName,_FilterNum)
19(_FilterNum,1,_FilterNum,0,0,@screen_w,@screen_h,0,0,@screen_w,@screen_h,_Trans,0,0,0,0)
42("flip",0)
_Mode=1,
_Reverse=0,
_FadeTime=@DefFadeTime,
_Trans=128,
_FilterNum=@DefFilterNum,

43()

$ColorFilterClear

18(_FilterNum)
0(0,_FilterNum)
42("flip",0)
_Mode=1,
_Reverse=0,
_FadeTime=@DefFadeTime,
_FilterNum=@DefFilterNum,

43()
