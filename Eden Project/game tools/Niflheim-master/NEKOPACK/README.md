# Niflheim-NEKOPACK
用于处理NEKOPACK引擎
## [Base on]
NEKOPACK:解包参考crass源码

## [Note]
#### [文件名]
文件名经过hash，但是还原其实挺简单的，多去看看script和system下的文本文件就好。

name.txt针对【ヒマワリと恋の記憶】制作。

voice：搜索半角冒号

voice可能有冗余，发现没匹配的文件去听了下，然后搜了下文本，发现已经有文件名了，然后去听了下这个文件的，果然两个文件一模一样。
#### [文本]
因为有脚本变量名匹配的问题，所以不能全部转GBK，只转文本部分，其他部分还是要Shift-JIS。
#### [图片]
不知是不是libmng用的是回调函数的问题，各种莫名其妙的错误，特别是堆栈问题，不是完全不能用，写点小功能可以，

但是随着功能的增加就会出现莫名其妙的崩溃，后续索性不用了，留着一个文件做参考，具体细节可以参考NEKOPACK_mng(libmng).h。

引擎会使用png的tEXt块的数据进行索引，导入时必须留着这块，处理方式已集成到代码中。
#### [补丁]
引擎会检索目录下的dat文件，然后基于封包的一个参数判断读取优先级，所以增量补丁把这个优先级参数调到最高就可以了。
## [New]
ver 1.0

完成，基于【ヒマワリと恋の記憶】制作